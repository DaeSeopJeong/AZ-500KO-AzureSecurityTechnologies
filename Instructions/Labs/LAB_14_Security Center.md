---
lab:
    title: '14 - Azure Security Center'
    module: '모듈 04 - 보안 작업 관리'
---

# 랩 14: Azure Security Center
# 학생 랩 매뉴얼

## 랩 시나리오

Security Center 기반 환경의 개념 증명을 작성하라는 요청을 받았습니다. 특히 다음을 수행해야 합니다.

- 가상 머신을 모니터링하도록 Security Center를 구성합니다.
- 가상 머신에 대한 Security Center 권장 사항을 검토합니다.
- 게스트 구성 및 Just-In-Time VM 액세스에 대한 권장 사항을 구현합니다. 
- Secure Score를 사용하여 더욱 안전한 인프라를 만드는 진행 상황을 결정하는 방법을 검토합니다.

> 이 랩의 모든 리소스에 대해, **미국 동부** 지역을 사용하고 있습니다. 강사에게 이 영역이 수업에 사용할 영역인지 확인합니다. 

## 랩 목표

이 랩에서는 다음의 연습을 완료합니다:

- 연습 1: Security Center 구현

### 연습 1: Security Center 구현

이 연습에서는 다음 작업을 수행합니다.

- 작업 1: Security Center 구성
- 작업 2: 게스트 구성 확장 설치를 위한 Security Center 권장 사항 구현
- 작업 3: Security Center 권장 사항을 구현하여 Just-In-Time VM 액세스를 사용하도록 설정

#### 작업 1: Security Center 구성

이 작업에서는 Security Center를 등록하고 구성합니다.

1. Azure Portal **`https://portal.azure.com/`** 에 로그인합니다.

    >**참고**: 이 랩에 사용 중인 Azure 구독에 Owner 또는 Contributor 역할이 있는 계정을 사용하여 Azure Portal에 로그인합니다.

1. Azure Portal의 상단에 있는 **리소스, 서비스 및 문서 검색** 텍스트 상자에서 **Security Center**를 입력하고 **Enter** 키를 누릅니다.

1. **Security Center**에서 **\| 시작** 블레이드에서 **업그레이드**를 클릭한 다음, **에이전트 설치**를 클릭합니다.
     
1. **Security Center**에서 **\| 시작** 블레이드에서 **가격 책정 및 설정**을 클릭합니다.

1. **설정에서** 구독을 나타내는 항목을 클릭합니다 **\| 가격 책정 계층** 블레이드에서 **표준** 가격 책정 계층이 선택되었는지 확인합니다. 

    >**참고**: 표준 가격 책정 계층의 일부로 사용할 수 있는 모든 기능을 검토하고 표준 계획이 각 리소스 유형에 대해 활성화되어 있는지 확인합니다. 

1. 변경한 경우 **저장**을 클릭합니다.

1. **설정**에서 **\| 가격 책정 계층** 블레이드에서 **데이터 컬렉션**을 클릭합니다.

1. **설정**에서 **\| 데이터 컬렉션** 탭에서 **자동 프로비전**을 **켜기**로 설정합니다. 

1. **설정**에서 **작업 영역 구성** 섹션의 **\|데이터 컬렉션** 블레이드에서 **다른 작업 영역 사용** 옵션을 선택하고 드롭다운 목록에서 이전 랩에서 만든 Log Analytics 작업 영역을 선택합니다. 

1. **설정**에서 **\| 데이터 컬렉션** 블레이드에서 **저장**을 클릭합니다.

1. **설정**에서 **\| 데이터 컬렉션** 블레이드에서 **워크플로 자동화**를 클릭합니다.

1. **설정**에서 **\| 워크플로 자동화** 블레이드에서 **+ 워크플로 자동화 추가**를 클릭합니다.

1. **워크플로 자동화 추가** 블레이드에서 사용 가능한 설정을 검토합니다. 

    >**참고**: 위협 탐지 경고 및 Security Center 권장 사항을 기반으로 작업을 트리거 할 수 있습니다. Logic Apps를 기반으로 작업을 구성할 수도 있습니다. 

1. **워크플로 자동화 추가** 블레이드에서 **취소**를 클릭합니다.

    >**참고**: Security Center는 시스템 업데이트 상태, OS 보안 구성 및 엔드포인트 보호를 포함한 가상 머신에 대한 많은 인사이트를 제공합니다.

#### 작업 2: 게스트 구성 확장 설치를 위한 Security Center 권장 사항 구현

이 작업에서는 가상 머신에 엔드포인트 보호를 설치하기 위해 Security Center 권장 사항을 구현합니다. 

1. Azure Portal에서 다시 **Security Center**로 이동합니다. **\| 개요**블레이드. 

1. **Security Center** **정책 및 규정 준수** 섹션의 Security Cneter **\| 개요** 블레이드에서 **보안 점수**를 클릭합니다. 

    >**참고**: 현재 점수를 기록합니다.

1. **Security Center**에서 **리소스 보안 예방 조치**섹션의 **\| 보안 점수** 블레이드에서 **컴퓨팅 및 앱**을 클릭합니다.

1. **Security Center**에서 **\| 컴퓨팅 및 앱** 블레이드에서 **VM 및 서버** 탭을 클릭한 다음, **myVM** 항목을 클릭합니다.

1. **권장 사항 목록** 섹션의 **myvm** 블레이드의 **권장 사항** 탭에서 권장 사항을 검토하고 **Windows Virtual Machines에 게스트 구성 확장 설치** 항목을 클릭합니다.

1. **Windows Virtual Machines에 게스트 구성 확장 설치** 블레이드에서 **수정**을 클릭합니다.

1. **리소스 수정** 블레이드에서 **myVM**이 선택된 리소스로 나열되어 있는지 확인하고 **1개의 리소스 수정**을 클릭합니다.

    >**참고**: 도구 모음에서 **알림** 아이콘을 클릭하고 **알림** 블레이드를 확인하여 설치 진행률을 모니터링합니다. 

    >**참고**: **myVM** 가상 머신의 구성을 확인하여 설치를 확인할 수도 있습니다. **설정** 섹션의 **myVM** 가상 머신 블레이드에서 **확장**을 클릭하고 **myVM**에서 **\| 확장** 블레이드에서 **성공한 프로비전** 상태를 통해 나열된 **AzurePolicyforWindows** 확장을 확인할 수 있습니다.

    >**참고**: Security Center는 가상 머신을 자동으로 다시 검사합니다. 보안 점수의 증가가 반영됩니다.

    >**참고**: 설치가 완료될 때까지 기다리지 말고 다음 작업을 진행합니다. 

#### 작업 3: Security Center 권장 사항을 구현하여 Just-In-Time VM 액세스를 사용하도록 설정

이 작업에서는 가상 머신에서 Just-In-Time VM 액세스를 사용할 수 있도록 Security Center 권장 사항을 구현합니다. 

1. Azure Portal에서 다시 **Security Center**로 이동합니다.**\| 개요** 블레이드. 

1. **Security Center**에서 **리소스 보안 예방 조치** 섹션의 Security Center **\| 개요** 블레이드에서 **컴퓨팅 및 앱**을 클릭합니다.

1. **Security Center**에서 **\| 컴퓨팅 및 앱** 블레이드에서 **VM 및 서버** 탭을 클릭한 다음, **myVM** 항목을 클릭합니다.

1. **권장 사항 목록** 섹션의 **myvm** 블레이드의 **권장 사항** 탭에서 **Just-In-Time 네트워크 액세스 제어로 가상 머신의 관리 포트 보호** 항목을 클릭합니다.

1. **Just-In-Time 네트워크 액세스 제어로 가상 머신의 관리 포트 보호** 블레이드에서 **수정 단계** 섹션을 확장하고 단계를 검토합니다. 

1. **가상 머신의 관리 포트는 Just-In-Time 네트워크 액세스 제어로 보호** 블레이드에서 **수정**을 클릭합니다.

1. 포트 **22**를 참조하는 행의 맨 오른쪽에 있는 **JIT VM 액세스 구성** 블레이드에서 타원 단추를 클릭한 다음 **삭제**를 클릭합니다.

1. **JIT VM 액세스 구성** 블레이드에서 **저장**을 클릭합니다.

    >**참고**: 도구 모음의 **알림** 아이콘을 클릭하고 **알림** 블레이드를 확인하여 구성 진행 상황을 모니터링합니다. 

    >**참고**: 이 랩의 권장 사항을 구현하여 보안 점수가 반영되는 데 다소 시간이 걸릴 수 있습니다. 보안 점수를 주기적으로 확인하여 이러한 기능을 구현하는 데 미치는 영향을 확인합니다. 

> 결과: Security Center를 등록하고 가상 머신 권장 사항을 구현했습니다. 

**리소스 정리**

>**참고**: Azure Sentinel 랩에 필요하므로 이 랩에서 리소스를 제거하지 마십시오.
